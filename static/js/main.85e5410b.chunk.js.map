{"version":3,"sources":["fonts/FinkHeavyRegular.woff","fonts/FinkHeavyRegular.woff2","fonts/ArialRoundedBold.woff","images/bells.svg","utils/patterns.js","utils/theme.js","utils/useFilters.js","utils/useShare.js","utils/useTitle.js","utils/useWeekDays.js","components/Button.jsx","components/Chart.jsx","components/Dialog.jsx","components/Table.jsx","components/QuantileRange.jsx","utils/useCalculation.js","locales/index.js","i18n.js","containers/Providers.jsx","containers/Filter.jsx","containers/Localizer.jsx","containers/Footer.jsx","containers/Title.jsx","containers/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","wasm","heuristicFilter","filters","patterns","scores","Map","forEach","pattern","set","reduce","prev","i","min","max","calculateScore","sort","patternA","patternB","get","firstScore","filter","possiblePatterns","a","probabilities","JSON","calculate","join","wasmPatterns","parse","console","warn","mockPatterns","all","map","patternNumber","results","countPerPattern","acc","allPatternsProb","count","probability","minMaxReducer","current","newMin","newMax","minPricePointsReducer","b","Math","minWeekReducer","samplesReducer","Array","from","length","v","index","c","d","stepA","stepB","range","concat","value","step","patternReducer","allPatterns","reducer","calculateQuantiles","quantileRange","samples","q","daySamples","floor","quantile","clamp","number","clampFilters","x","minMaxPattern","minWeekValue","quantiles","result","finkHeavy","fontFamily","src","FinkHeavyRegular2","FinkHeavyRegular","fontWeight","fontStyle","arialRound","ArialRoundedBold","useTheme","language","createMuiTheme","palette","primary","main","dark","light","secondary","bkgs","mainAlt","chart","table","banner","content","contentAlt","warning","text","typography","includes","overrides","MuiCssBaseline","body","wordBreak","paddingTop","paddingLeft","paddingRight","position","width","top","zIndex","height","backgroundColor","borderBottom","useFilters","useLocalStorage","saveFilters","inputFilters","useMemo","String","Number","sanitizedFilters","undefined","useEffect","isArray","toHash","replace","split","useShare","useState","open","setOpen","useLocation","search","hash","history","useHistory","f","QueryString","ignoreQueryPrefix","shareFilters","hashFilters","fromHash","showShareDialog","Boolean","hasHash","onCloseShareModal","useCallback","openShareDialog","pathname","stringify","addQueryPrefix","useLayoutEffect","useTitle","t","useTranslation","document","title","useWeekDays","weekDays","AM","PM","weekDaysCombined","day","useButtonStyles","makeStyles","theme","root","borderRadius","shape","label","textTransform","Button","className","bgcolor","props","classes","cx","disableRipple","size","variant","defaults","ClearButton","Chart","defaultFontFamily","createGenerteData","minMaxData","zip","data","fill","borderColor","pointRadius","pointHoverRadius","borderDash","chartOptions","maintainAspectRatio","showLines","tooltips","intersect","mode","item","datasets","datasetIndex","callbacks","scales","y","gridLines","display","suggestedMin","suggestedMax","elements","line","cubicInterpolationMode","legend","labels","ChartComponent","canvas","useRef","generateData","getLabels","createGetLabels","newLabels","merge","update","ctx","getContext","type","options","tooltipTimeout","onTouchEnd","clearTimeout","setTimeout","enabled","onTouchStart","Box","p","mt","style","userSelect","WebkitUserSelect","unselectable","ref","useDialogStyles","paper","breakpoints","down","margin","CustomDialog","onClose","description","children","actions","dialogClasses","Dialog","aria-labelledby","aria-describedby","transitionDuration","DialogTitle","id","DialogContent","DialogContentText","DialogActions","ClearDataDialog","dismiss","confirm","onClick","ShareDialog","loading","setLoadingState","inputRef","location","window","toString","handleCopy","select","setSelectionRange","execCommand","useCalculation","immediate","Typography","mx","xs","sm","TextField","fullWidth","onFocus","maxWidth","overflow","maxHeight","LinearProgress","onLoad","alt","expanded","useStyles","container","TableCell","styled","MaterialTableCell","color","green","orange","red","none","css","RowContext","createContext","PatternRow","name","useContext","TableRow","key","uuidv4","IconButton","align","toFixed","_","values","quantileIndex","data-color","data-am","AggregatedPatterns","useToggle","toggleOpen","aggregatedPattern","aggregate","DataRows","patternNames","Provider","Table","flexDirection","TableContainer","padding","stickyHeader","TableHead","colSpan","TableBody","ranges","QuantileContext","QuantileProvider","setRange","QuantileRange","setQuantileRange","state","setState","useDebounce","then","catch","list","translations","translationca","translationco","translationda","translationde","translationen","translationes","translationfi","translationfil","translationfr","translationga","translationid","translationit","translationja","translationko","translationmk","translationnl","translationpl","translationptbr","translationro","translationru","translationsv","translationtr","translationzhCN","translationzhHK","translationzhTW","i18n","use","initReactI18next","LanguageDetector","init","debug","process","detection","order","fallbackLng","keySeparator","interpolation","escapeValue","resources","react","useSuspense","ns","defaultNS","Providers","StrictMode","ThemeProvider","CssBaseline","useTextFieldStyles","InputLabel","Input","marginTop","calculateCurrentPriceIndex","now","Date","getDay","getHours","Filter","onChange","clearDataDialogOpen","setClearDataDialogOpen","TextFieldClasses","currentPriceIndex","setCurrentPriceIndex","useInterval","newPriceIndex","handleChange","target","validity","valid","newFilters","names","curr","fields","inputProps","tabIndex","InputLabelProps","shrink","InputProps","startAdornment","InputAdornment","bells","placeholder","FormGroup","m","mb","ml","mr","flexWrap","alignItems","slice","md","justifyContent","alignSelf","ol","separator","Localizer","defaultLang","setDefaultLang","changeLanguage","Breadcrumbs","maxItems","component","aria-label","tag","href","Link","rel","Footer","my","px","py","Trans","i18nKey","contributors","author","login","total","html_url","version","Title","App","Container","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","error","ReactDOM","render","getElementById","URL","origin","addEventListener","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","waitingServiceWorker","waiting","postMessage"],"mappings":"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","file":"static/js/main.85e5410b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/FinkHeavyRegular.d2740563.woff\";","module.exports = __webpack_public_path__ + \"static/media/FinkHeavyRegular.e8a8b570.woff2\";","module.exports = __webpack_public_path__ + \"static/media/ArialRoundedBold.98a0555d.woff\";","module.exports = __webpack_public_path__ + \"static/media/bells.d5f521c1.svg\";","import mockPatterns from \"./mockPatterns.json\";\nimport { range, quantile } from \"d3-array\";\nconst wasm = import(\"patterns\");\n\n// The lower score, the better.\nconst calculateScore = (filters, pattern) => {\n  return pattern.reduce(\n    (prev, [min, max], i) =>\n      prev +\n      (filters[i + 1]\n        ? filters[i + 1] < min\n          ? min - filters[i + 1]\n          : filters[i + 1] > max\n          ? filters[i + 1] - max\n          : 0\n        : 0),\n    0\n  );\n};\nconst heuristicFilter = (filters, patterns) => {\n  const scores = new Map();\n  patterns.forEach((pattern) => {\n    scores.set(pattern, calculateScore(filters, pattern));\n  });\n  patterns.sort(\n    (patternA, patternB) => scores.get(patternA) - scores.get(patternB)\n  );\n  const firstScore = scores.get(patterns[0]);\n  return patterns.filter((pattern) => scores.get(pattern) <= firstScore * 1.1);\n};\n\nconst possiblePatterns = async (filters) => {\n  const probabilities = [140, 105, 55, 100]; // out of 400\n\n  let wasmPatterns;\n  try {\n    wasmPatterns = JSON.parse((await wasm).calculate(filters.join(\"-\")));\n  } catch (error) {\n    console.warn(\"Error while loading wasm (\", error, \"), using fallback.\");\n    wasmPatterns = mockPatterns;\n  }\n\n  const all = wasmPatterns.map(([patternNumber, ...pattern]) => {\n    pattern.pattern = patternNumber;\n    return pattern;\n  });\n\n  const results = heuristicFilter(filters, all);\n  const countPerPattern = results.reduce(\n    (acc, pattern) => {\n      acc[pattern.pattern]++;\n      return acc;\n    },\n    [0, 0, 0, 0]\n  );\n  const allPatternsProb = countPerPattern.reduce(\n    (acc, count, i) => (count ? acc + probabilities[i] : acc),\n    0\n  );\n  return results.map((pattern) => {\n    pattern.probability =\n      probabilities[pattern.pattern] /\n      allPatternsProb /\n      countPerPattern[pattern.pattern];\n    return pattern;\n  });\n};\n\n// Take all patternsOptions and make them single [min, max] values.\nconst minMaxReducer = (prev, current) => {\n  return prev.map(([min, max], i) => {\n    const [newMin, newMax] = current[i];\n    return [min > newMin ? newMin : min, max < newMax ? newMax : max];\n  });\n};\n\n// This reducer will get all-week minimum.\nconst minPricePointsReducer = ([a], [b]) => [Math.max(a, b)];\nconst minWeekReducer = (prev, current, i) => {\n  const [a] = current.reduce(minPricePointsReducer);\n  const [b] = i === 1 ? prev.reduce(minPricePointsReducer) : prev;\n  return [Math.min(a, b)];\n};\n\n// This will generate samples of uniform distribution used for quantiles.\nconst samplesReducer = (prev, current, i) => {\n  let arr = prev;\n  if (i === 1) {\n    arr = Array.from({ length: 12 }, (v, i) => i);\n    return arr.map((index) => {\n      const [a, b] = prev[index];\n      const [c, d] = current[index];\n      const stepA = 0.1 * (1 / prev.probability);\n      const stepB = 0.1 * (1 / current.probability);\n      return range(a, b + 1, stepA).concat(range(c, d + 1, stepB));\n    });\n  } else {\n    return prev.map((value, index) => {\n      const [a, b] = current[index];\n      const step = 0.1 * (1 / current.probability);\n      return value.concat(range(a, b + 1, step));\n    });\n  }\n};\n\nconst patternReducer = (allPatterns, reducer) => {\n  if (allPatterns.length === 1) {\n    return [allPatterns[0], allPatterns[0]].reduce(reducer);\n  }\n  return allPatterns.reduce(reducer);\n};\n\nconst calculateQuantiles = (patterns, quantileRange = 75) => {\n  const samples = patternReducer(patterns, samplesReducer);\n  return [\n    (100 - quantileRange) * 0.005,\n    0.5,\n    1 - (100 - quantileRange) * 0.005,\n  ].map((q) => {\n    return samples.map((daySamples, i) => Math.floor(quantile(daySamples, q)));\n  });\n};\n\nconst clamp = (min, max, number) => Math.min(max, Math.max(min, number));\n\nconst clampFilters = (filters) => {\n  return filters.map((x, i) =>\n    i === 0 ? clamp(90, 110, x) : clamp(9, 660, x)\n  );\n};\n\nconst calculate = async ({ filters, quantileRange }) => {\n  let patterns = await possiblePatterns(clampFilters(filters));\n  const minMaxPattern = patternReducer(patterns, minMaxReducer);\n  const [minWeekValue] = patternReducer(patterns, minWeekReducer);\n  const quantiles = calculateQuantiles(patterns, quantileRange);\n\n  const result = {\n    minMaxPattern,\n    minWeekValue,\n    patterns,\n    quantiles,\n  };\n\n  return result;\n};\n\nexport { calculate };\n","import { createMuiTheme } from \"@material-ui/core\";\nimport FinkHeavyRegular from \"../fonts/FinkHeavyRegular.woff\";\nimport FinkHeavyRegular2 from \"../fonts/FinkHeavyRegular.woff2\";\nimport ArialRoundedBold from \"../fonts/ArialRoundedBold.woff\";\n\nconst finkHeavy = {\n  fontFamily: \"FinkHeavy\",\n  src: ` \n    url(${FinkHeavyRegular2}) format('woff2'),\n    url(${FinkHeavyRegular}) format('woff')\n    `,\n  fontWeight: \"normal\",\n  fontStyle: \"normal\",\n};\n\nconst arialRound = {\n  fontFamily: \"Arial Rounded MT Bold\",\n  fontStyle: \"normal\",\n  fontWeight: \"normal\",\n  src: `\n    local('Arial Rounded MT Bold'),\n    url(${ArialRoundedBold}) format('woff')\n    `,\n};\n\nconst useTheme = ({ language }) =>\n  createMuiTheme({\n    palette: {\n      primary: {\n        main: \"#7FD1A5\",\n        dark: \"#007D75\",\n        light: \"#88C9A1\",\n      },\n      secondary: {\n        light: \"#7B6C53\",\n        main: \"#6B5C43\",\n      },\n      bkgs: {\n        main: \"#E9F5EB\",\n        mainAlt: \"#F8F8F0\",\n        chart: \"#D8F1E1\",\n        table: \"#cde4f2\",\n        banner: \"#F0FFF5\",\n        content: \"#88C9A1\",\n        contentAlt: \"#7B6C53\",\n      },\n      warning: {\n        main: \"#F1E26F\",\n        dark: \"#EF8341\",\n      },\n      text: {\n        primary: \"#6E661B\",\n      },\n    },\n    typography: {\n      fontFamily: [\"ro\", \"pl\"].includes(language) // Română and Polski needs separate fonts\n        ? [\"Arial\", \"Helvetica Neue\", \"Helvetica\", \"sans-serif\"]\n        : [\n            '\"Arial Rounded MT Bold\"',\n            \"-apple-system\",\n            \"BlinkMacSystemFont\",\n            '\"Segoe UI\"',\n          ],\n      ...Array.from({ length: 6 }, (v, i) => i + 1).reduce(\n        (prev, v) => ({\n          ...prev,\n          [`h${v}`]: {\n            fontFamily: [\"ro\", \"pl\"].includes(language)\n              ? [\"Arial\", \"Helvetica Neue\", \"Helvetica\", \"sans-serif\"]\n              : [\n                  \"FinkHeavy\",\n                  \"-apple-system\",\n                  \"BlinkMacSystemFont\",\n                  '\"Segoe UI\"',\n                ],\n          },\n        }),\n        {}\n      ),\n    },\n    overrides: {\n      MuiCssBaseline: {\n        \"@global\": {\n          \"@font-face\": [finkHeavy, arialRound],\n          body: {\n            wordBreak: [\"ko\"].includes(language) ? \"keep-all\" : \"initial\",\n            paddingTop: \"env(safe-area-inset-top)\",\n            paddingLeft: \"env(safe-area-inset-left)\",\n            paddingRight: \"env(safe-area-inset-right)\",\n            \"-webkit-text-size-adjust\": \"100%\",\n          },\n          \"body::before\": {\n            content: \"''\",\n            position: \"fixed\",\n            width: \"100%\",\n            top: \"0\",\n            zIndex: \"10\",\n            height: \"env(safe-area-inset-top)\",\n            backgroundColor: \"rgb(123, 108, 83)\",\n            borderBottom: \"1px solid #E9F5EB\",\n          },\n        },\n      },\n    },\n  });\n\nexport default useTheme;\n","import { useEffect, useMemo } from \"react\";\nimport { useLocalStorage } from \"react-use\";\n\nconst useFilters = () => {\n  const [filters, saveFilters] = useLocalStorage(\"filters\", []);\n\n  // Array of strings\n  const inputFilters = useMemo(\n    () =>\n      Array.from({ length: 13 }).map((v, i) =>\n        String(Number(filters[i]) || \"\")\n      ),\n    [filters]\n  );\n\n  // Array of numbers\n  const sanitizedFilters = useMemo(\n    () =>\n      Array.from({ length: 13 }).map((v, i) => Number(filters[i]) || undefined),\n    [filters]\n  );\n\n  useEffect(() => {\n    if (!Array.isArray(filters)) {\n      saveFilters([]);\n    }\n  }, [filters, saveFilters]);\n\n  return {\n    filters: sanitizedFilters,\n    inputFilters,\n    saveFilters,\n  };\n};\n\nexport default useFilters;\n","import { useState, useCallback, useLayoutEffect } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport QueryString from \"qs\";\n\nconst toHash = (filters) =>\n  filters\n    .join(\" \")\n    .replace(/(\\s*$)/g, \"\")\n    .split(\" \")\n    .join(\"-\") || \"000\";\n\nconst fromHash = (hash = \"\") => {\n  const hashFilters = hash.replace(\"#\", \"\").replace(/,/g, \"-\").split(\"-\");\n  return Array.from({ length: 13 }).map(\n    (v, i) => Number(hashFilters[i]) || undefined\n  );\n};\n\nconst hasHash = (hash) => Boolean(hash);\n\nconst useShare = (filters) => {\n  const [open, setOpen] = useState(true);\n  const { search, hash } = useLocation();\n  const history = useHistory();\n  const { f } = QueryString.parse(search, { ignoreQueryPrefix: true });\n\n  const shareFilters = fromHash(f || hash);\n  const showShareDialog = hasHash(f || hash) && open;\n  const onCloseShareModal = useCallback(() => {\n    setOpen(false);\n    history.replace({\n      search: null,\n      hash: null,\n    });\n  }, [history]);\n  const openShareDialog = useCallback(() => {\n    history.replace({\n      pathname: \"share\",\n      search: QueryString.stringify(\n        { f: toHash(filters) },\n        { addQueryPrefix: true }\n      ),\n      hash: null,\n    });\n    setOpen(true);\n  }, [filters, history]);\n\n  useLayoutEffect(() => {\n    if (f || hash) {\n      history.replace({\n        pathname: \"share\",\n        search: QueryString.stringify({ f: toHash(shareFilters) }),\n        hash: null,\n      });\n      setOpen(true);\n    }\n    // onMount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [history]);\n\n  return {\n    shareFilters,\n    showShareDialog,\n    onCloseShareModal,\n    openShareDialog,\n  };\n};\n\nexport default useShare;\nexport { toHash };\n","import { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useTitle = () => {\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    // allows title to be localised\n    document.title = t(\"Turnip Calculator\");\n  }, [t]);\n};\n\nexport default useTitle;\n","import { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useWeekDays = () => {\n  const { t } = useTranslation();\n\n  return useMemo(() => {\n    const weekDays = t(\"Mon Tue Wed Thu Fri Sat\").split(\" \");\n    const [AM, PM] = [t(\"AM\"), t(\"PM\")];\n    return {\n      weekDaysCombined: weekDays.reduce(\n        (acc, day) => [...acc, `${day} ${AM}`, `${day} ${PM}`],\n        []\n      ),\n      weekDays,\n      AM,\n      PM,\n    };\n  }, [t]);\n};\n\nexport default useWeekDays;\n","import React from \"react\";\nimport { Button as MaterialButton, makeStyles } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport cx from \"classnames\";\nimport { string } from \"prop-types\";\n\nconst useButtonStyles = makeStyles((theme) => ({\n  root: {\n    borderRadius: theme.shape.borderRadius * 4,\n    \"&.yellow\": {\n      backgroundColor: theme.palette.warning.main,\n      \"&:hover\": {\n        backgroundColor: theme.palette.warning.dark,\n      },\n    },\n  },\n  label: {\n    textTransform: \"capitalize\",\n  },\n}));\n\nconst Button = ({ className, bgcolor, ...props }) => {\n  const classes = useButtonStyles();\n\n  return (\n    <MaterialButton\n      classes={classes}\n      className={cx(className, bgcolor)}\n      disableRipple\n      size=\"small\"\n      variant=\"contained\"\n      {...props}\n    />\n  );\n};\n\nButton.propTypes = {\n  bgcolor: string,\n  className: string,\n};\n\nButton.defaults = {\n  bgcolor: \"\",\n  className: \"\",\n};\n\nconst ClearButton = (props) => {\n  const { t } = useTranslation();\n  return (\n    <Button bgcolor=\"yellow\" {...props}>\n      {t(\"Clear All Data!\")}\n    </Button>\n  );\n};\n\nexport { useButtonStyles, Button, ClearButton };\n","import React, { useRef, useCallback, useEffect } from \"react\";\nimport { arrayOf, number } from \"prop-types\";\nimport Chart from \"chart.js\";\nimport zip from \"lodash.zip\";\nimport merge from \"lodash.merge\";\nimport { Box } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\n\nChart.defaults.defaultFontFamily = \"Arial Rounded MT Bold\";\n\nconst createGenerteData = (t) => ({\n  filters,\n  minMaxPattern,\n  minWeekValue,\n  quantiles,\n}) => {\n  const minMaxData = zip(...minMaxPattern);\n\n  return [\n    {\n      label: t(\"Buy Price\"),\n      data: new Array(12).fill(filters[0] || null),\n      fill: true,\n      backgroundColor: \"transparent\",\n      borderColor: \"#7B6C53\",\n      pointRadius: 0,\n      pointHoverRadius: 0,\n      borderDash: [5, 15],\n    },\n    {\n      label: t(\"Guaranteed Min\"),\n      data: new Array(12).fill(minWeekValue || null),\n      fill: true,\n      backgroundColor: \"transparent\",\n      borderColor: \"#007D75\",\n      pointRadius: 0,\n      pointHoverRadius: 0,\n      borderDash: [3, 6],\n    },\n    {\n      label: t(\"Daily Price\"),\n      data: Array.from({ length: 12 }, (v, i) => filters[i + 1] || null),\n      fill: false,\n      backgroundColor: \"#EF8341\",\n      borderColor: \"#EF8341\",\n    },\n    {\n      label: t(\"Maximum\"),\n      data: minMaxData[1] || new Array(12).fill(null),\n      backgroundColor: \"#88c9a1\",\n      borderColor: \"#88c9a1\",\n      pointRadius: 0,\n      pointHoverRadius: 0,\n      fill: \"+1\",\n    },\n    {\n      label: t(\"Most Likely\"),\n      data: quantiles[2] || new Array(12).fill(null),\n      backgroundColor: \"#88b0c9\",\n      borderColor: \"#88b0c9\",\n      pointRadius: 0,\n      pointHoverRadius: 0,\n      fill: \"+1\",\n    },\n    {\n      label: \"quantile25\",\n      data: quantiles[0] || new Array(12).fill(null),\n      pointRadius: 0,\n      pointHoverRadius: 0,\n      fill: false,\n    },\n    {\n      label: t(\"Minimum\"),\n      data: minMaxData[0] || new Array(12).fill(null),\n      backgroundColor: \"#c988b0\",\n      borderColor: \"#c988b0\",\n      pointRadius: 0,\n      pointHoverRadius: 0,\n      fill: \"-1\",\n    },\n  ];\n};\n\nconst createGetLabels = (t) => {\n  return t(\"Mon Tue Wed Thu Fri Sat\")\n    .split(\" \")\n    .reduce(\n      (acc, day) => [...acc, `${day} ${t(\"AM\")}`, `${day} ${t(\"PM\")}`],\n      []\n    );\n};\n\nconst chartOptions = {\n  maintainAspectRatio: false,\n  showLines: true,\n  tooltips: {\n    intersect: false,\n    mode: \"index\",\n    filter: (item, data) => {\n      const label = data.datasets[item.datasetIndex].label;\n      return label !== \"quantile25\";\n    },\n    callbacks: {\n      label: (item, data) => {\n        const label = data.datasets[item.datasetIndex].label || \"\";\n        let value = item.value;\n        if (item.datasetIndex === 4) {\n          value = `${data.datasets[5].data[item.index]}-${\n            data.datasets[4].data[item.index]\n          }`;\n        }\n        return `${label}: ${value}`;\n      },\n    },\n  },\n  scales: {\n    y: {\n      gridLines: {\n        display: false,\n      },\n      suggestedMin: 0,\n      suggestedMax: 400,\n    },\n  },\n  elements: {\n    line: {\n      cubicInterpolationMode: \"monotone\",\n    },\n  },\n  legend: {\n    labels: {\n      filter: ({ text = \"\" }) => text !== \"quantile25\",\n    },\n  },\n};\n\nconst ChartComponent = ({\n  filters,\n  minMaxPattern,\n  minWeekValue,\n  patterns,\n  quantiles,\n}) => {\n  const canvas = useRef();\n  const chart = useRef();\n  const { t } = useTranslation();\n  const generateData = useCallback((...args) => createGenerteData(t)(...args), [\n    t,\n  ]);\n  const getLabels = useCallback(() => createGetLabels(t), [t]);\n\n  // Language labels chart effect\n  useEffect(() => {\n    if (!chart.current) return;\n    // this is necessary, or else labels won't change language until reload\n    const newLabels = getLabels();\n    merge(chart.current.data.labels, newLabels);\n    chart.current.update();\n  }, [getLabels]);\n\n  // Filters / Data effect\n  useEffect(() => {\n    if (!patterns) return;\n\n    const datasets = generateData({\n      filters,\n      minMaxPattern,\n      minWeekValue,\n      patterns,\n      quantiles,\n    });\n    if (!chart.current) {\n      const ctx = canvas.current.getContext(\"2d\");\n      chart.current = new Chart(ctx, {\n        type: \"line\",\n        data: {\n          datasets,\n          labels: getLabels(),\n        },\n        options: chartOptions,\n      });\n      return;\n    }\n    // regerates chart in the new\n\n    merge(chart.current.data.datasets, datasets);\n    chart.current.data.datasets.length = datasets.length;\n    chart.current.update();\n  }, [\n    filters,\n    generateData,\n    getLabels,\n    minMaxPattern,\n    minWeekValue,\n    patterns,\n    quantiles,\n  ]);\n\n  // Fix for mobile tooltip\n  const tooltipTimeout = useRef();\n  const onTouchEnd = useCallback(() => {\n    clearTimeout(tooltipTimeout.current);\n    tooltipTimeout.current = setTimeout(() => {\n      if (!chart.current) return;\n      chart.current.options.tooltips.enabled = false;\n      chart.current.update();\n    }, 3000);\n  }, []);\n  const onTouchStart = useCallback(() => {\n    if (!chart.current) return;\n    chart.current.options.tooltips.enabled = true;\n    chart.current.update();\n  }, []);\n  // Clear timeout if unmount\n  useEffect(() => {\n    return () => {\n      clearTimeout(tooltipTimeout.current);\n    };\n  }, []);\n\n  return (\n    <Box\n      p={[0.5, 1, 2]}\n      mt={2}\n      borderRadius={16}\n      bgcolor=\"bkgs.chart\"\n      width={1}\n      height={400}\n    >\n      <canvas\n        style={{ userSelect: \"none\", WebkitUserSelect: \"none\" }}\n        unselectable={\"on\"}\n        ref={canvas}\n        onTouchEnd={onTouchEnd}\n        onTouchStart={onTouchStart}\n      />\n    </Box>\n  );\n};\n\nChartComponent.propTypes = {\n  filters: arrayOf(number).isRequired,\n  minMaxPattern: arrayOf(arrayOf(number)),\n  minWeekValue: number,\n  patterns: arrayOf(arrayOf(arrayOf(number))),\n  quantiles: arrayOf(arrayOf(number)),\n};\n\nexport default ChartComponent;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { func, bool, arrayOf, number, any } from \"prop-types\";\nimport {\n  makeStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n  Typography,\n  Box,\n  LinearProgress,\n} from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useCallback } from \"react\";\nimport { toHash } from \"../utils/useShare\";\nimport { Button, ClearButton, Chart, Table } from \"../components\";\nimport { useCalculation } from \"../utils\";\n\nconst useDialogStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: theme.palette.bkgs.main,\n    borderRadius: theme.shape.borderRadius * 4,\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"100% !important\",\n      margin: 0,\n    },\n  },\n}));\n\nconst CustomDialog = ({\n  open,\n  onClose,\n  title,\n  description,\n  children,\n  actions,\n  ...props\n}) => {\n  const dialogClasses = useDialogStyles();\n\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      classes={dialogClasses}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      transitionDuration={0}\n      {...props}\n    >\n      {title && <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>}\n      <DialogContent>\n        {description && (\n          <DialogContentText id=\"alert-dialog-description\">\n            {description}\n          </DialogContentText>\n        )}\n        {children}\n      </DialogContent>\n      {actions && <DialogActions>{actions}</DialogActions>}\n    </Dialog>\n  );\n};\n\nCustomDialog.propTypes = {\n  open: bool.isRequired,\n  onClose: func,\n  title: any,\n  description: any,\n  children: any,\n  actions: any,\n};\n\nCustomDialog.defaults = {\n  onClose: null,\n  children: null,\n  actions: null,\n  title: null,\n  description: null,\n};\n\nconst ClearDataDialog = ({ open, dismiss, confirm }) => {\n  const { t } = useTranslation();\n  return (\n    <CustomDialog\n      open={open}\n      onClose={dismiss}\n      title={t(\"clearDataTitle\")}\n      description={t(\"clearDataWarning\")}\n      actions={\n        <>\n          <Button onClick={dismiss} variant=\"text\">\n            {t(\"cancel\")}\n          </Button>\n          <ClearButton onClick={confirm} />\n        </>\n      }\n    />\n  );\n};\n\nClearDataDialog.propTypes = {\n  open: bool.isRequired,\n  dismiss: func.isRequired,\n  confirm: func.isRequired,\n};\n\nconst ShareDialog = ({ open, filters, onClose, ...props }) => {\n  const { t } = useTranslation();\n  const [loading, setLoadingState] = useState(true);\n  const inputRef = useRef();\n  const location = window.location.toString();\n  const handleCopy = useCallback(() => {\n    if (inputRef.current) {\n      inputRef.current.select();\n      inputRef.current.setSelectionRange(0, location.length, \"backward\");\n      document.execCommand(\"copy\");\n    }\n  }, [location]);\n\n  let result = useCalculation({\n    filters: open ? filters : null,\n    immediate: true,\n  });\n\n  useEffect(() => {\n    if (open) {\n      setLoadingState(true);\n    }\n  }, [open]);\n\n  const actions = (\n    <>\n      <Typography>{t(\"shareClipboard\")}</Typography>\n      <Box mx={{ xs: \"0\", sm: \"1\" }} width=\"50%\">\n        <TextField\n          id=\"url\"\n          type=\"text\"\n          fullWidth\n          inputRef={inputRef}\n          onTouchEnd={handleCopy}\n          onClick={handleCopy}\n          onFocus={handleCopy}\n          value={location}\n        />\n      </Box>\n      <Button onClick={handleCopy}>{t(\"copyButton\")}</Button>\n      <Button onClick={onClose}>{t(\"closeButton\")}</Button>\n    </>\n  );\n  const description = t(\"shareDialogV2\");\n  return (\n    <CustomDialog\n      open={open}\n      maxWidth=\"md\"\n      fullWidth\n      actions={actions}\n      description={description}\n      {...props}\n    >\n      {open && (\n        <Box mx={[-2.5, 0]}>\n          <Box\n            borderRadius={16}\n            bgcolor=\"bkgs.chart\"\n            overflow=\"hidden\"\n            maxWidth=\"600px\"\n            maxHeight=\"315px\"\n          >\n            {loading && <LinearProgress />}\n            <img\n              style={{ width: \"100%\" }}\n              onLoad={() => setLoadingState(false)}\n              src={`https://ac-turnip.com/p-${toHash(filters)}.png`}\n              alt=\"\"\n            />\n          </Box>\n          <Chart {...result} />\n          <Table {...result} expanded />\n        </Box>\n      )}\n    </CustomDialog>\n  );\n};\n\nShareDialog.propTypes = {\n  open: bool.isRequired,\n  filters: arrayOf(number).isRequired,\n  onClose: func.isRequired,\n};\n\nexport { CustomDialog as Dialog, ClearDataDialog, ShareDialog };\n","import React, { createContext, useMemo } from \"react\";\nimport { arrayOf, number, string, func, bool } from \"prop-types\";\nimport {\n  Table as MaterialTable,\n  TableBody,\n  TableCell as MaterialTableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  makeStyles,\n  IconButton,\n  Box,\n} from \"@material-ui/core\";\nimport {\n  KeyboardArrowDown as OpenIcon,\n  KeyboardArrowRight as CloseIcon,\n} from \"@material-ui/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport { useWeekDays } from \"../utils\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useToggle } from \"react-use\";\nimport { useContext } from \"react\";\nimport styled, { css } from \"styled-components\";\n\nconst useStyles = makeStyles({\n  container: {\n    maxHeight: \"50vh\",\n  },\n});\n\nconst TableCell = styled(MaterialTableCell)`\n  white-space: nowrap;\n  padding: 0 4px;\n  border: none;\n  background: ${(props) => props.theme.palette.bkgs.table};\n  color: rgba(0, 0, 0, 0.8);\n  border-left: ${(props) =>\n    props[\"data-am\"] === 0 && \"4px solid rgba(0, 0, 0, 0.2)\"};\n\n  ${(props) => {\n    const color = {\n      green: \"#88c9a1\",\n      orange: \"#88b0c9\",\n      red: \"#c988b0\",\n      none: \"rgba(0, 0, 0, 0.1)\",\n    }[props[\"data-color\"]];\n    return (\n      color &&\n      css`\n        background: ${color};\n      `\n    );\n  }};\n`;\n\nconst RowContext = createContext({});\n\nconst PatternRow = ({ pattern, name, onClick, open }) => {\n  const { quantiles, filters } = useContext(RowContext);\n  return (\n    <TableRow key={uuidv4()}>\n      <TableCell>\n        {onClick ? (\n          <IconButton onClick={onClick} size=\"small\">\n            {open ? <OpenIcon /> : <CloseIcon />}\n          </IconButton>\n        ) : null}\n      </TableCell>\n      <TableCell>{name}</TableCell>\n      <TableCell align=\"right\">\n        {pattern.probability\n          ? `${(pattern.probability * 100).toFixed(2)}%`\n          : \"\"}\n      </TableCell>\n      {pattern.map((_, index) => {\n        const [min, max] = pattern[index];\n        const filter = filters[index + 1];\n        const color = [\"red\", \"orange\", \"green\"][\n          quantiles.reduce(\n            (prev, values, quantileIndex) =>\n              values[index] < max ? quantileIndex : prev,\n            0\n          )\n        ];\n\n        return (\n          <TableCell\n            key={uuidv4()}\n            align=\"center\"\n            data-color={filter ? \"none\" : color}\n            data-am={index % 2}\n          >\n            {filter || (min !== max ? `${min}~${max}` : min)}\n          </TableCell>\n        );\n      })}\n    </TableRow>\n  );\n};\nPatternRow.propTypes = {\n  pattern: arrayOf(arrayOf(number)).isRequired,\n  name: string.isRequired,\n  onClick: func,\n  open: bool,\n};\n\nconst aggregate = (patterns) =>\n  patterns.reduce(\n    (acc, pattern) => {\n      const { probability = 0 } = acc;\n      const result = pattern.map(([min, max], index) => [\n        Math.min(min, acc[index][0]),\n        Math.max(max, acc[index][1]),\n      ]);\n      result.probability = probability + pattern.probability;\n      result.pattern = pattern.pattern;\n      return result;\n    },\n    Array.from({ length: 12 }, (_, i) => [700, 0])\n  );\n\nconst AggregatedPatterns = ({ patterns, name, expanded }) => {\n  const [open, toggleOpen] = useToggle(Boolean(expanded));\n  if (!patterns.length) return null;\n  if (patterns.length === 1) {\n    return <PatternRow pattern={patterns[0]} name={name} />;\n  }\n  if (patterns.length > 1) {\n    const aggregatedPattern = aggregate(patterns);\n    return (\n      <>\n        <PatternRow\n          name={name}\n          onClick={toggleOpen}\n          open={open}\n          pattern={aggregatedPattern}\n        />\n        {open &&\n          patterns.map((pattern) => (\n            <PatternRow key={uuidv4()} name={`-`} pattern={pattern} />\n          ))}\n      </>\n    );\n  }\n  return null;\n};\nAggregatedPatterns.propTypes = {\n  patterns: arrayOf(arrayOf(arrayOf(number))).isRequired,\n  name: string.isRequired,\n  expanded: bool,\n};\n\nconst DataRows = ({\n  patterns,\n  minMaxPattern,\n  quantiles,\n  filters,\n  expanded,\n}) => {\n  const { t } = useTranslation();\n  const patternNames = t(\"patternNames\").split(\"_\");\n  if (!patterns) return null;\n  return (\n    <RowContext.Provider value={{ quantiles, filters }}>\n      <PatternRow pattern={minMaxPattern} name={t(\"All Patterns\")} />\n      {patternNames.map((name, index) => (\n        <AggregatedPatterns\n          key={uuidv4()}\n          name={name}\n          patterns={patterns.filter(({ pattern }) => pattern === index)}\n          expanded={expanded}\n        />\n      ))}\n    </RowContext.Provider>\n  );\n};\n\nDataRows.propTypes = {\n  patterns: arrayOf(arrayOf(arrayOf(number))),\n  minMaxPattern: arrayOf(arrayOf(number)),\n  quantiles: arrayOf(arrayOf(number)),\n  filters: arrayOf(number),\n  expanded: bool,\n};\n\nconst Table = ({ filters, patterns, minMaxPattern, quantiles, expanded }) => {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const { weekDays } = useWeekDays();\n\n  return useMemo(\n    () => (\n      <Box\n        bgcolor=\"bkgs.table\"\n        borderRadius={8}\n        display=\"flex\"\n        flexDirection=\"column\"\n        mt={2}\n        overflow=\"hidden\"\n      >\n        <TableContainer className={classes.container}>\n          <MaterialTable size=\"small\" padding=\"none\" stickyHeader>\n            <TableHead>\n              <TableRow>\n                <TableCell></TableCell>\n                <TableCell align=\"center\">{t(\"Pattern\")}</TableCell>\n                <TableCell align=\"center\">{t(\"Chance\")}</TableCell>\n                {weekDays.map((day) => (\n                  <TableCell key={day} align=\"center\" colSpan={2}>\n                    {day}\n                  </TableCell>\n                ))}\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <DataRows\n                patterns={patterns}\n                minMaxPattern={minMaxPattern}\n                quantiles={quantiles}\n                filters={filters}\n                expanded={expanded}\n              />\n            </TableBody>\n          </MaterialTable>\n        </TableContainer>\n      </Box>\n    ),\n    [\n      classes.container,\n      expanded,\n      filters,\n      minMaxPattern,\n      patterns,\n      quantiles,\n      t,\n      weekDays,\n    ]\n  );\n};\n\nTable.propTypes = {\n  patterns: arrayOf(arrayOf(arrayOf(number))),\n  minMaxPattern: arrayOf(arrayOf(number)),\n  quantiles: arrayOf(arrayOf(number)),\n  filters: arrayOf(number),\n  expanded: bool,\n};\n\nexport default Table;\n","import React, { createContext, useContext } from \"react\";\nimport { useLocalStorage } from \"react-use\";\nimport { Button } from \"./Button\";\n\nconst ranges = [50, 75, 90];\nconst QuantileContext = createContext([]);\n\nconst QuantileRange = () => {\n  const [quantileRange = 75, setQuantileRange] = useContext(QuantileContext);\n\n  return ranges.map((value) => (\n    <Button\n      key={`quaintile-range-${value}`}\n      {...(value === quantileRange ? { bgcolor: \"yellow\" } : {})}\n      onClick={() => setQuantileRange(value)}\n    >\n      {value}%\n    </Button>\n  ));\n};\n\nconst QuantileProvider = (props) => {\n  const [range, setRange] = useLocalStorage(\"quantile-range\", 75);\n\n  return <QuantileContext.Provider {...props} value={[range, setRange]} />;\n};\n\nexport default QuantileRange;\nexport { QuantileContext, QuantileProvider };\n","import { useState, useMemo, useContext } from \"react\";\nimport { calculate } from \"./patterns\";\nimport { useDebounce } from \"react-use\";\nimport { QuantileContext } from \"../components\";\n\nconst useCalculation = ({ filters, immediate = false }) => {\n  const [state, setState] = useState(null);\n  const [quantileRange] = useContext(QuantileContext);\n\n  useDebounce(\n    () => {\n      if (filters) {\n        calculate({ filters, quantileRange })\n          .then(setState)\n          .catch(() => setState(null));\n      } else {\n        setState(null);\n      }\n    },\n    immediate ? 0 : 500,\n    [filters, quantileRange]\n  );\n\n  const { minMaxPattern, minWeekValue, patterns, quantiles } = state || {};\n\n  return useMemo(\n    () => ({ minMaxPattern, minWeekValue, patterns, quantiles, filters }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [state]\n  );\n};\n\nexport default useCalculation;\n","\n// This file is generated with scripts/i18n.js\n\nimport translationca from \"./ca/translation.json\";\nimport translationco from \"./co/translation.json\";\nimport translationda from \"./da/translation.json\";\nimport translationde from \"./de/translation.json\";\nimport translationen from \"./en/translation.json\";\nimport translationes from \"./es/translation.json\";\nimport translationfi from \"./fi/translation.json\";\nimport translationfil from \"./fil/translation.json\";\nimport translationfr from \"./fr/translation.json\";\nimport translationga from \"./ga/translation.json\";\nimport translationid from \"./id/translation.json\";\nimport translationit from \"./it/translation.json\";\nimport translationja from \"./ja/translation.json\";\nimport translationko from \"./ko/translation.json\";\nimport translationmk from \"./mk/translation.json\";\nimport translationnl from \"./nl/translation.json\";\nimport translationpl from \"./pl/translation.json\";\nimport translationptbr from \"./pt-br/translation.json\";\nimport translationro from \"./ro/translation.json\";\nimport translationru from \"./ru/translation.json\";\nimport translationsv from \"./sv/translation.json\";\nimport translationtr from \"./tr/translation.json\";\nimport translationzhCN from \"./zh-CN/translation.json\";\nimport translationzhHK from \"./zh-HK/translation.json\";\nimport translationzhTW from \"./zh-TW/translation.json\";\n\nconst list = JSON.parse('[[\"ca\",\"Català\"],[\"co\",\"Corsu\"],[\"da\",\"Dansk\"],[\"de\",\"Deutsch\"],[\"en\",\"English\"],[\"es\",\"Español\"],[\"fi\",\"Suomi\"],[\"fil\",\"Filipino\"],[\"fr\",\"Français\"],[\"ga\",\"Gaeilge\"],[\"id\",\"Bahasa Indonesia\"],[\"it\",\"Italiano\"],[\"ja\",\"日本語\"],[\"ko\",\"한국어\"],[\"mk\",\"Македонски\"],[\"nl\",\"Nederlands\"],[\"pl\",\"Polski\"],[\"pt-br\",\"Português (Brasil)\"],[\"ro\",\"Română\"],[\"ru\",\"Русский\"],[\"sv\",\"Svenska\"],[\"tr\",\"Türkçe\"],[\"zh-CN\",\"中文 (中国)\"],[\"zh-HK\",\"中文 (香港)\"],[\"zh-TW\",\"中文 (臺灣)\"]]');\n\nconst translations = {\n'ca': {translations: translationca},\n'co': {translations: translationco},\n'da': {translations: translationda},\n'de': {translations: translationde},\n'en': {translations: translationen},\n'es': {translations: translationes},\n'fi': {translations: translationfi},\n'fil': {translations: translationfil},\n'fr': {translations: translationfr},\n'ga': {translations: translationga},\n'id': {translations: translationid},\n'it': {translations: translationit},\n'ja': {translations: translationja},\n'ko': {translations: translationko},\n'mk': {translations: translationmk},\n'nl': {translations: translationnl},\n'pl': {translations: translationpl},\n'pt-br': {translations: translationptbr},\n'ro': {translations: translationro},\n'ru': {translations: translationru},\n'sv': {translations: translationsv},\n'tr': {translations: translationtr},\n'zh-CN': {translations: translationzhCN},\n'zh-HK': {translations: translationzhHK},\n'zh-TW': {translations: translationzhTW},\n};\n\nexport { translations, list };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { initReactI18next } from \"react-i18next\";\nimport { translations } from \"./locales\";\n\ni18n\n  .use(initReactI18next)\n  .use(LanguageDetector)\n  .init({\n    // we init with resources\n    debug: process.env.NODE_ENV === \"development\",\n    detection: {\n      // order and from where user language should be detected\n      order: [\n        \"querystring\",\n        \"cookie\",\n        \"localStorage\",\n        \"navigator\",\n        \"htmlTag\",\n        \"path\",\n        \"subdomain\",\n      ],\n    },\n\n    fallbackLng: \"en\",\n\n    keySeparator: false, // we use content as keys\n\n    interpolation: {\n      escapeValue: false,\n    },\n\n    resources: translations,\n\n    react: {\n      useSuspense: false,\n    },\n\n    // have a common namespace used around the full app\n    ns: [\"translations\"],\n    defaultNS: \"translations\",\n  });\n\nexport default i18n;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { node } from \"prop-types\";\nimport { CssBaseline, ThemeProvider } from \"@material-ui/core\";\nimport { ThemeProvider as StyledComponentsThemeProvider } from \"styled-components\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { useTheme } from \"../utils\";\nimport { QuantileProvider } from \"../components\";\nimport \"../i18n\";\n\nconst Providers = ({ children }) => {\n  const { i18n } = useTranslation();\n  const theme = useTheme({ language: i18n.language });\n\n  return (\n    <React.StrictMode>\n      <BrowserRouter>\n        <ThemeProvider theme={theme}>\n          <StyledComponentsThemeProvider theme={theme}>\n            <QuantileProvider>\n              <CssBaseline />\n              {children}\n            </QuantileProvider>\n          </StyledComponentsThemeProvider>\n        </ThemeProvider>\n      </BrowserRouter>\n    </React.StrictMode>\n  );\n};\nProviders.propTypes = {\n  children: node.isRequired,\n};\n\nexport default Providers;\n","import React, { useCallback, useState } from \"react\";\nimport { arrayOf, string, func } from \"prop-types\";\nimport {\n  TextField,\n  FormGroup,\n  InputAdornment,\n  Box,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useInterval } from \"react-use\";\nimport { useTranslation } from \"react-i18next\";\nimport { ClearButton, ClearDataDialog, Button } from \"../components\";\nimport bells from \"../images/bells.svg\";\n\nconst useTextFieldStyles = makeStyles(() => ({\n  InputLabel: {\n    position: \"relative\",\n  },\n  Input: {\n    \"label + &\": {\n      marginTop: 0,\n    },\n  },\n}));\n\nconst calculateCurrentPriceIndex = () => {\n  const now = new Date();\n  const day = now.getDay();\n  const hour = now.getHours();\n\n  return ((day + 6) % 7) * 2 + +(hour >= 12) + 1;\n};\n\nconst Filter = ({ filters, onChange, openShareDialog }) => {\n  const [clearDataDialogOpen, setClearDataDialogOpen] = useState(false);\n  const { t } = useTranslation();\n  const TextFieldClasses = useTextFieldStyles();\n  const [currentPriceIndex, setCurrentPriceIndex] = useState(\n    calculateCurrentPriceIndex\n  );\n\n  useInterval(() => {\n    // It will not re-render the component if didn't change.\n    const newPriceIndex = calculateCurrentPriceIndex();\n    setCurrentPriceIndex(newPriceIndex);\n  }, 1000);\n\n  const handleChange = useCallback(\n    (index) => ({\n      target: {\n        value,\n        validity: { valid },\n      },\n    }) => {\n      if (!valid) return;\n      const newFilters = Array.from({ length: 13 }, (v, i) =>\n        index === i ? value : filters[i]\n      );\n      onChange(newFilters);\n    },\n    [filters, onChange]\n  );\n\n  const names = [\n    t(\"Buy Price\"),\n    ...t(\"Mon Tue Wed Thu Fri Sat\")\n      .split(\" \")\n      .reduce(\n        (curr, day) => [...curr, ...[`${day} ${t(\"AM\")}`, `${day} ${t(\"PM\")}`]],\n        []\n      ),\n  ];\n\n  const fields = Array.from({ length: 13 }, (v, i) => i).map((index) => (\n    <TextField\n      key={`value-${index}`}\n      type=\"tel\"\n      variant=\"standard\"\n      color=\"secondary\"\n      label={names[index]}\n      fullWidth\n      inputProps={{ pattern: \"[0-9]*\", tabIndex: 0 }}\n      InputLabelProps={{\n        shrink: true,\n        classes: { root: TextFieldClasses.InputLabel },\n      }}\n      InputProps={{\n        startAdornment: (\n          <InputAdornment position=\"start\">\n            <img src={bells} alt=\"Bag of bells\" />\n          </InputAdornment>\n        ),\n        classes: {\n          root: TextFieldClasses.Input,\n        },\n      }}\n      value={filters[index] || \"\"}\n      placeholder={currentPriceIndex === index ? t(\"Now\") : \"\"}\n      onChange={handleChange(index)}\n    />\n  ));\n\n  return (\n    <>\n      <ClearDataDialog\n        open={clearDataDialogOpen}\n        dismiss={() => setClearDataDialogOpen(false)}\n        confirm={() => {\n          setClearDataDialogOpen(false);\n          onChange([]);\n        }}\n      />\n      <Box\n        borderRadius={16}\n        bgcolor=\"primary.light\"\n        display=\"flex\"\n        flexDirection=\"column\"\n      >\n        <FormGroup>\n          <Box\n            m={2}\n            p={2}\n            mb={-1}\n            borderRadius={16}\n            bgcolor=\"bkgs.mainAlt\"\n            display=\"flex\"\n          >\n            {fields[0]}\n          </Box>\n          <Box\n            m={2}\n            ml={1}\n            mr={1}\n            display=\"flex\"\n            flexWrap=\"wrap\"\n            alignItems=\"stretch\"\n          >\n            {fields.slice(1).reduce(\n              (prev, curr, index) =>\n                index % 2\n                  ? [\n                      ...prev.slice(0, -1),\n                      <Box\n                        display=\"flex\"\n                        key={index}\n                        p={1}\n                        width={{ xs: 0.5, sm: 1 / 3, md: 1 / 6 }}\n                      >\n                        <Box\n                          p={2}\n                          bgcolor=\"bkgs.mainAlt\"\n                          borderRadius={16}\n                          display=\"flex\"\n                          flexDirection=\"column\"\n                          justifyContent=\"space-between\"\n                        >\n                          <Box m={1}>{prev.slice(-1)}</Box>\n                          <Box m={1}>{curr}</Box>\n                        </Box>\n                      </Box>,\n                    ]\n                  : [...prev, curr],\n              []\n            )}\n          </Box>\n        </FormGroup>\n        <Box alignSelf=\"flex-end\" mt={-2} display=\"flex\">\n          <Box mx={1}>\n            <Button onClick={openShareDialog}>{t(\"shareButton\")}</Button>\n          </Box>\n          <ClearButton onClick={() => setClearDataDialogOpen(true)} />\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nFilter.propTypes = {\n  filters: arrayOf(string).isRequired,\n  onChange: func.isRequired,\n  openShareDialog: func.isRequired,\n};\n\nexport default Filter;\n","import React, { useMemo, useEffect } from \"react\";\nimport { Box, Breadcrumbs, Link, makeStyles } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useLocalStorage } from \"react-use\";\nimport { list } from \"../locales\";\n\nconst useStyles = makeStyles((theme) => ({\n  ol: {\n    justifyContent: \"center\",\n  },\n  separator: {\n    color: theme.palette.bkgs.mainAlt,\n  },\n}));\n\nconst Localizer = () => {\n  const { i18n } = useTranslation();\n  const classes = useStyles();\n  const [defaultLang, setDefaultLang] = useLocalStorage(\"i18n\");\n\n  // First mount effect\n  useEffect(() => {\n    i18n.changeLanguage(defaultLang);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return useMemo(\n    () => (\n      <Box mx={[\"0%\", \"10%\", \"25%\"]}>\n        <Breadcrumbs\n          classes={classes}\n          maxItems={list.length}\n          component=\"div\"\n          aria-label=\"languages\"\n        >\n          {list.map(([tag, name]) => (\n            <Link\n              key={tag}\n              href=\"#\"\n              onClick={() => {\n                i18n.changeLanguage(tag);\n                setDefaultLang(tag);\n              }}\n            >\n              {name}\n            </Link>\n          ))}\n        </Breadcrumbs>\n      </Box>\n    ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n};\n\nexport default Localizer;\n","import React, { useMemo, Fragment } from \"react\";\nimport { Box, Typography, Link as MaterialLink } from \"@material-ui/core\";\nimport { Trans } from \"react-i18next\";\nimport Localizer from \"./Localizer\";\nimport { string, node } from \"prop-types\";\nimport { useTranslation } from \"react-i18next\";\nimport { version } from \"../../package.json\";\nimport { QuantileRange } from \"../components\";\nimport contributors from \"../data/contributors.json\";\n\nconst Link = ({ href, children }) => (\n  <MaterialLink href={href} target=\"_blank\" rel=\"noopener\">\n    {children}\n  </MaterialLink>\n);\nLink.propTypes = {\n  href: string,\n  children: node,\n};\nLink.defaults = {\n  href: undefined,\n};\n\nconst Footer = () => {\n  const { t } = useTranslation();\n  return useMemo(() => {\n    return (\n      <Box\n        my={4}\n        px={4}\n        py={2}\n        color=\"bkgs.mainAlt\"\n        bgcolor=\"bkgs.contentAlt\"\n        borderRadius={16}\n      >\n        <Box my={2}>\n          <Typography variant=\"h5\">{t(\"Usage\")}</Typography>\n          <Typography variant=\"body1\">\n            <Trans i18nKey=\"buyPriceInfo\">\n              - The <b>Buy Price</b> value is for your own island. It\n              doesn&#39;t matter if you buy it in other island!\n            </Trans>\n            <br />\n            <Trans i18nKey=\"priceChangeInfo\">\n              - Prices change <b>twice a day</b>. Be sure to log them. (We save\n              your data in your device).\n            </Trans>\n            <br />\n            <Trans i18nKey=\"guaranteedMinInfo\">\n              - The <b>Week min</b> value is a guaranteed minimum price you will\n              get this week. Wait at least for this price.\n            </Trans>\n            <br />\n            <Trans i18nKey=\"mostLikelyInfo\">\n              - The <b>Most Likely</b> value range is where <QuantileRange /> of\n              the turnip prices will fall.\n            </Trans>\n          </Typography>\n        </Box>\n        <Box my={2}>\n          <Typography variant=\"h5\">{t(\"About\")}</Typography>\n          <Typography variant=\"body1\">\n            <Trans i18nKey=\"contributors\">\n              Thank you all contributors so far!\n            </Trans>{\" \"}\n            {contributors\n              .filter(\n                ({ author }) =>\n                  ![\"actions-user\", \"weblate\"].includes(author.login)\n              )\n              .sort((a, b) => b.total - a.total)\n              .map(({ author }) => (\n                <Fragment key={author.id}>\n                  <Link href={author.html_url}>{`@${author.login}`}</Link>{\" \"}\n                </Fragment>\n              ))}\n          </Typography>\n          <Typography variant=\"body1\">\n            <Trans i18nKey=\"about1\">\n              This wouldn&apos;t be possible without{\" \"}\n              <Link href=\"https://twitter.com/_Ninji/status/1244818665851289602\">\n                @_Ninji&apos;s\n              </Link>{\" \"}\n              effort.\n            </Trans>\n            <br />\n            <Trans i18nKey=\"about2\">\n              I got this inspiration from{\" \"}\n              <Link href=\"https://mikebryant.github.io/ac-nh-turnip-prices/index.html\">\n                mikebryant&apos;s\n              </Link>{\" \"}\n              work.\n            </Trans>\n            <br />\n            <Trans i18nKey=\"about3\">\n              He is game dev! Follow him on twitter:{\" \"}\n              <Link href=\"https://twitter.com/Consalv0\">@Consalv0</Link>.\n            </Trans>\n            <br />\n            <Trans i18nKey=\"about4\">\n              A bug? Report it{\" \"}\n              <Link href=\"https://github.com/elxris/Turnip-Calculator/issues\">\n                here\n              </Link>\n              .\n            </Trans>\n          </Typography>\n        </Box>\n        <Localizer />\n        <Typography variant=\"body1\" align=\"right\">\n          {`v${version || \"2.x\"}`}\n        </Typography>\n      </Box>\n    );\n  }, [t]);\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { Typography, Box } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Title = () => {\n  const { t } = useTranslation();\n  return (\n    <Box mt={4} mb={2}>\n      <Typography variant=\"h3\" color=\"textPrimary\">\n        {t(\"ACNH Turnip Calculator\")}\n      </Typography>\n    </Box>\n  );\n};\n\nexport default Title;\n","import React from \"react\";\nimport { Container, Box } from \"@material-ui/core\";\nimport { useFilters, useTitle, useShare, useCalculation } from \"../utils\";\nimport { Title, Filter, Footer } from \"../containers\";\nimport { ShareDialog, Chart, Table } from \"../components\";\n\nconst App = () => {\n  useTitle();\n  const { inputFilters, filters, saveFilters } = useFilters();\n  const {\n    onCloseShareModal,\n    showShareDialog,\n    openShareDialog,\n    shareFilters,\n  } = useShare(filters);\n\n  const result = useCalculation({ filters });\n\n  return (\n    <>\n      <Container maxWidth=\"md\">\n        <Title />\n        <Box mx={[-1.5, 0]}>\n          <Filter\n            filters={inputFilters}\n            onChange={saveFilters}\n            openShareDialog={openShareDialog}\n          />\n          <Chart {...result} />\n          <Table {...result} />\n          <Footer />\n        </Box>\n      </Container>\n      <ShareDialog\n        open={showShareDialog}\n        filters={shareFilters}\n        onClose={onCloseShareModal}\n      />\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Providers from \"./containers/Providers\";\nimport App from \"./containers/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Providers>\n    <App />\n  </Providers>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register({\n  onUpdate: (registration) => {\n    const waitingServiceWorker = registration.waiting;\n\n    if (waitingServiceWorker) {\n      waitingServiceWorker.postMessage({ type: \"SKIP_WAITING\" });\n    }\n  },\n});\n"],"sourceRoot":""}